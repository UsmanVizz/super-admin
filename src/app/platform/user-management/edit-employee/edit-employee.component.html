<div class="d-flex justify-content-between align-items-center">
  <nav
    style="--bs-breadcrumb-divider: '>'; color: #b1b1b1"
    aria-label="breadcrumb"
    class="mt-3 mb-4"
  >
    <ol class="breadcrumb d-flex align-items-center mt-4 pb-3">
      <li class="breadcrumb-item">
        <a class="d-flex align-items-center gap-3" routerLink="/user-management"
          ><img
            src="../../../../assets/images/icons/user-management.png"
            alt="icon"
          />
          User Management</a
        >
      </li>
      <li class="breadcrumb-item active" aria-current="page">Edit Employee</li>
    </ol>
  </nav>
</div>

<main class="bg-white mt-1 rounded-3">
  <div class="d-flex flex-column">
    <div class="d-flex justify-content-start align-items-center">
      <span class="booking-details" style="font-size: 18px">Edit Employee</span>
      <div class="ml-auto">
        <button class="custom-button" (click)="updateUserProfile()">
          Update
        </button>
      </div>
    </div>
    <hr />
    <ng-container>
      <form class="d-flex flex-column gap-4" [formGroup]="userProfileUpdate">
        <div class="d-flex align-items-center image-container bottom-border">
          <div
            class="d-flex align-items-center gap-3 mx-10 mt-2 image-container"
          >
            <div
              class="user-profile"
              *ngIf="!setThumbnail || setThumbnail.length === 0"
            >
              <img
                [src]="endUrl + userDetail?.profile_image"
                alt="user profile"
                class="user-profile border object-fit-fill"
              />
            </div>
            <div
              class="chip-img d-flex align-items-center gap-2"
              *ngIf="setThumbnail && setThumbnail.length > 0"
            >
              <img
                [src]="endUrl + setThumbnail"
                class="object-fit-fill user-profile border"
              />
              <span class="close-img" (click)="removeThumbnail()">
                <img
                  src="../../../../assets/images/icons/cross-btn.png"
                  alt="remove"
                />
              </span>
            </div>
            <span class="upload-image">
              <label for="img-upload-p">
                <input
                  type="file"
                  id="img-upload-p"
                  class="d-none"
                  (change)="onThumbnailSelected($event)"
                />
                <img
                  src="../../../../assets/images/icons/upload-btn.png"
                  alt="Upload Image"
                  class="upload-image"
                />
              </label>
            </span>
          </div>
        </div>

        <hr />

        <div class="row">
          <div class="col-md-6">
            <div class="input-group d-flex flex-column gap-2">
              <label for="name" class="label-text">Name</label>
              <input
                type="text"
                id="name"
                placeholder="Name"
                class="input-class text-capitalize"
                formControlName="full_name"
              />
            </div>
            <div class="input-group d-flex flex-column gap-2">
              <label for="address" class="label-text mt-3">Address</label>
              <input
                type="text"
                id="address"
                placeholder="Address"
                class="input-class"
                formControlName="street_address"
              />
            </div>
            <div class="input-group d-flex flex-column gap-2">
              <label for="contact" class="label-text mt-3">Contact</label>
              <input
                type="text"
                id="contact"
                placeholder="+92000000000"
                class="input-class"
                (input)="formatPhone($event)"
                formControlName="phone_no"
              />
            </div>
            <div class="input-group d-flex flex-column gap-2">
              <label for="designation" class="label-text mt-3"
                >Designation</label
              >
              <select
                name=""
                id="designation"
                class="input-class"
                formControlName="role"
              >
                <option selected disabled>Select Designation</option>
                <option
                  *ngFor="let designation of designations"
                  [value]="designation.name"
                >
                  {{ designation.name }}
                </option>
              </select>
            </div>

            <div class="input-group d-flex flex-column gap-2">
              <label for="address" class="label-text mt-3">CNIC</label>
              <input
                type="text"
                id="address"
                placeholder="88888-8888888-8"
                class="input-class"
                (input)="formatCnic($event)"
                formControlName="cnic"
              />
            </div>
          </div>

          <div class="col-md-6">
            <div class="input-group d-flex flex-column gap-2">
              <label for="email" class="label-text mt-3">Email</label>
              <input
                type="email"
                id="email"
                placeholder="abc@gmail.com"
                class="input-class"
                formControlName="email"
                readonly
              />
            </div>

            <div class="input-group d-flex flex-column gap-2">
              <label for="contact" class="label-text mt-3">Password</label>
              <input
                type="text"
                id="contact"
                placeholder="Password"
                class="input-class"
                formControlName="password"
              />
            </div>
            <div class="input-group d-flex flex-column gap-2">
              <label for="designation" class="label-text mt-3"
                >Select Branch</label
              >
              <select
                name=""
                id="designation"
                class="input-class"
                formControlName="branch_id"
              >
                <option selected disabled value="">Select Branch</option>
                <option *ngFor="let item of branches" [value]="item._id">
                  {{ item.branch_name }}
                </option>
              </select>
            </div>
            <div class="input-group d-flex flex-column gap-2">
              <label for="salary" class="label-text mt-3">Salary</label>
              <input
                type="text"
                id="salary"
                placeholder="Salary"
                class="input-class"
                (input)="formatSalary($event)"
                formControlName="salary"
              />
            </div>
            <div class="input-group d-flex flex-column gap-2">
              <label for="joining-date" class="label-text mt-3"
                >Joining Date</label
              >
              <input
                id="joining-date"
                class="input-class"
                formControlName="joining_date"
              />
            </div>
          </div>
        </div>
      </form>
    </ng-container>
  </div>
</main>
