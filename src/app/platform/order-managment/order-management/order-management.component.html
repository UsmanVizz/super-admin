<div class="container-fluid">
  <main style="margin-top: 60px">
    <div class="column-container gap-4">
      <div class="column gap-4" (click)="manageReservation()">
        <div>
          <div class="row">
            <div class="col">
              <img
                src="../../../../assets/order-management/revison.png"
                alt="Image"
              />
              <div class="text-container">
                <h5 class="title mb-4">Reversions</h5>
              </div>
            </div>
            <span class="rates">350</span>
          </div>
        </div>
      </div>

      <div class="column gap-4" (click)="manageBooking()">
        <div>
          <div class="row">
            <div class="col">
              <img
                src="../../../../assets/order-management/booking.png"
                alt="Image"
              />
              <div class="text-container">
                <h5 class="title mb-4">Bookings</h5>
              </div>
            </div>
            <span class="rates">350</span>
          </div>
        </div>
      </div>
      <div class="column gap-4" (click)="manageProgress()">
        <div>
          <div class="row">
            <div class="col">
              <img
                src="../../../../assets/order-management/in-progress.png"
                alt="Image"
              />
              <div class="text-container">
                <h5 class="title mb-4">InProgress</h5>
              </div>
            </div>
            <span class="rates">35</span>
          </div>
        </div>
      </div>
      <div class="column gap-4" (click)="manageCancel()">
        <div>
          <div class="row">
            <div class="col">
              <img
                src="../../../../assets/order-management/cancel.png"
                alt="Image"
              />
              <div class="text-container">
                <h5 class="title mb-4">Cancelled</h5>
              </div>
            </div>
            <span class="rates">30</span>
          </div>
        </div>
      </div>
    </div>
  </main>

  <article>
    <div class="d-flex flex-column btns">
      <div class="d-flex justify-content-between align-items-center">
        <span class="order-title">Bookings</span>
        <button class="order-btn" (click)="addOrder()">Add Booking</button>
      </div>
    </div>
    <main class="bg-white mt-4 table-container">
      <div class="d-flex align-items-center mt-3 buttons">
        <div class="d-flex align-items-center">
          <div class="dropdown d-md-none">
            <button
              class="btn dropdown-toggle"
              type="button"
              id="dropdownMenuButton"
              data-toggle="dropdown"
              aria-haspopup="true"
              aria-expanded="false"
            >
              {{ selectedOption }}
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <button class="dropdown-item" (click)="selectSmallButton('All')">
                All
              </button>

              <button
                class="dropdown-item"
                (click)="selectSmallButton('Bookings')"
              >
                Bookings
              </button>

              <button
                class="dropdown-item"
                (click)="selectSmallButton('In Progress')"
              >
                In Progress
              </button>

              <button
                class="dropdown-item"
                (click)="selectSmallButton('Reservation')"
              >
                Reservation
              </button>
              <button
                class="dropdown-item"
                (click)="selectSmallButton('Cancelled')"
              >
                Cancelled
              </button>
            </div>
          </div>
        </div>

        <!-- Display buttons as regular buttons on larger screens (769px and above) -->
        <div class="d-none d-md-flex align-items-center">
          <button
            class="mx-2 left-button left-btn-text"
            [class.orange-button]="selectedButton === 'all'"
            (click)="selectButton('all')"
            type="button"
          >
            All
          </button>
          <button
            class="mx-2 left-button left-btn-text"
            [class.orange-button]="selectedButton === 'Bookings'"
            (click)="selectButton('Bookings')"
            type="button"
          >
            Bookings
          </button>
          <button
            class="mx-2 left-button left-btn-text"
            [class.orange-button]="selectedButton === 'In Progress'"
            (click)="selectButton('In Progress')"
            type="button"
          >
            In Progress
          </button>
          <button
            class="mx-2 left-button left-btn-text"
            [class.orange-button]="selectedButton === 'Reservation'"
            (click)="selectButton('Reservation')"
            type="button"
          >
            Reservation
          </button>
          <button
            class="mx-2 left-button left-btn-text"
            [class.orange-button]="selectedButton === 'Cancelled'"
            (click)="selectButton('Cancelled')"
            type="button"
          >
            Cancelled
          </button>
        </div>
        <div class="ml-auto d-flex gap-3 align-items-center">
          <div class="not-active search-icon p-0">
            <div class="input-wrapper">
              <button class="icon">
                <span class="material-symbols-outlined">search</span>
              </button>
              <input
                placeholder="Search..."
                class="input"
                [(ngModel)]="searchQuery"
                (input)="onSearchChange()"
                type="text"
              />
            </div>
          </div>
          <div
            class="sorting-btn d-flex align-items-center gap-2 bg-transpaReservation not-active"
          >
            <div class="material-symbols-outlined">filter_list</div>
            <span class="filter-title" style="font-size: 14px">Sort</span>
            <span style="color: #fb6f10; font-size: 14px">All</span>
          </div>
          <div
            class="sorting-btn d-flex align-items-center gap-2 bg-transpaReservation not-active"
          >
            <img src="../../../../assets/images/icons/filter-icon.png" alt="" />
            <span class="filter-title">Filter</span>
          </div>
        </div>
      </div>
      <div style="overflow: auto; flex: 1">
        <table
          class="table mt-5"
          style="
            overflow-x: auto;
            width: 100%;
            table-layout: fixed;
            white-space: nowrap;
            border-collapse: collapse;
          "
        >
          <thead>
            <tr>
              <th scope="col" class="index-number text-nowrap">SrNo.</th>
              <th scope="col" class="th-table text-nowrap">Order ID</th>
              <th scope="col" class="th-table text-nowrap">Vendor Services</th>
              <th scope="col" class="th-table text-nowrap">
                Event Date & Time
              </th>
              <th scope="col" class="th-table text-nowrap">Booking Date</th>
              <th scope="col" class="th-table text-nowrap">Hall Name</th>
              <th scope="col" class="th-table text-nowrap">Order Amount</th>
              <th scope="col" class="th-table text-nowrap">Expense</th>
              <th scope="col" class="th-table text-nowrap">Expense Type</th>
              <th scope="col" class="th-table text-nowrap">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="let image of paginatedData; let i = index"
              class="d-flex"
            >
              <td scope="row" class="name-td text-nowrap">
                {{ (currentPage - 1) * pageSize + i + 1 }}
              </td>
              <td class="email-td text-nowrap">1264529{{ i + 1 }}</td>
              <td class="email-td text-nowrap">02</td>
              <td class="email-td text-nowrap">
                0{{ i + 1 }} Mar 2023 - 1 to 5
              </td>
              <td class="email-td text-nowrap">0{{ i + 1 }} Feb 2023</td>
              <td class="email-td text-nowrap">A1 + A2 + A3</td>
              <td class="email-td text-nowrap">200,000</td>
              <td class="email-td text-nowrap">20,000</td>
              <td class="email-td text-nowrap">Food</td>
              <td>
                <div
                  class="d-flex justify-content-between gap-4 align-items-center"
                >
                  <img
                    src="../../../../assets/images/icons/filter-icon-2.png"
                    alt="icon"
                    class="icon-img object-fit-cover"
                  />
                  <img
                    src="../../../../assets/images/icons/delete-icon.png"
                    alt="icon"
                    class="icon-img object-fit-cover"
                    (click)="deleteRows(i)"
                  />
                  <img
                    src="../../../../assets/images/icons/view-icon.png"
                    alt="icon"
                    class="icon-img object-fit-cover"
                  />
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-end m-5 align-items-center">
          <!-- Previous button -->
          <li class="page-item" [class.disabled]="currentPage == 1">
            <a
              class="page-link d-flex align-items-center bg-transpaReservation"
              (click)="prevPage()"
              tabindex="-1"
            >
              <span class="material-symbols-outlined" style="color: #fb6f10"
                >chevron_left</span
              >
              Previous
            </a>
          </li>
          <!-- Pagination links -->
          <li
            class="page-item"
            *ngFor="let page of pages"
            [class.active]="currentPage == page"
          >
            <a class="page-link" (click)="setCurrentPage(page)">{{ page }}</a>
          </li>
          <!-- Next button -->
          <li class="page-item" [class.disabled]="currentPage == totalPages">
            <a
              class="page-link d-flex align-items-center bg-transpaReservation"
              (click)="nextPage()"
            >
              Next
              <span class="material-symbols-outlined" style="color: #fb6f10"
                >chevron_right</span
              >
            </a>
          </li>
        </ul>
      </nav>
    </main>
  </article>
</div>
